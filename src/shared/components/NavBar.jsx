import React, { useContext, useEffect } from 'react';
import { Link } from 'react-router-dom';
import navbarCSS from '../styles/Bars.module.css';
import { AuthContext } from '../context/AuthContext';

function NavBar() {
    const { logout } = useContext(AuthContext);

    const _exitButton = () => {
        logout();
    }

    const isSelected = (path) => {
        return window.location.pathname === path ? navbarCSS.selected : '';
    }

    return (
        <div className={navbarCSS.navbar}>
            <div className={navbarCSS.logo}>
                <img src="/ucugram.svg" alt="UCU Gram" className={navbarCSS.logo} />
            </div>
            <nav className={navbarCSS.navigation}>
                <ul>
                    <li>
                        <Link to="/" className={navbarCSS.navItem + ' ' + isSelected('/')}>
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                fill="none"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z"
                                    stroke="#000"
                                    strokeWidth="2"
                                    strokeLinecap="round"
                                    strokeLinejoin="round"
                                />
                                <path
                                    d="M9 22V12H15V22"
                                    stroke="#000"
                                    strokeWidth="2"
                                    strokeLinecap="round"
                                    strokeLinejoin="round"
                                />
                            </svg>
                            <span>Feed</span>
                        </Link>
                    </li>
                    <li>
                        <Link to="/notifications" className={navbarCSS.navItem + ' ' + isSelected('/notifications')}>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                                <g clipPath="url(#clip0_9_748)">
                                    <path
                                        d="M16.792 4.32585C18.1065 4.39851 19.3389 4.98775 20.2208 5.96515C21.1027 6.94255 21.5625 8.22889 21.5 9.54385C21.5 12.6158 18.848 14.5028 16.303 16.7658C13.791 19.0088 12.438 20.2348 12 20.5178C11.523 20.2088 9.85704 18.6948 7.69704 16.7658C5.14104 14.4938 2.50004 12.5888 2.50004 9.54385C2.43761 8.22889 2.89743 6.94255 3.7793 5.96515C4.66117 4.98775 5.89361 4.39851 7.20804 4.32585C7.93619 4.30378 8.6576 4.47103 9.30176 4.81125C9.94591 5.15147 10.4908 5.65301 10.883 6.26685C11.723 7.44185 11.863 8.02985 12.003 8.02985C12.143 8.02985 12.281 7.44185 13.113 6.26385C13.5031 5.64717 14.0482 5.14364 14.6937 4.80356C15.3393 4.46348 16.0629 4.29876 16.792 4.32585ZM16.792 2.32585C15.884 2.29677 14.981 2.47293 14.1505 2.8412C13.3199 3.20947 12.5832 3.76036 11.995 4.45285C11.4074 3.76237 10.6722 3.21276 9.84359 2.8446C9.01502 2.47644 8.11433 2.29916 7.20804 2.32585C5.36291 2.398 3.62142 3.19783 2.36438 4.55044C1.10734 5.90305 0.437038 7.69838 0.500043 9.54385C0.500043 13.1538 3.05004 15.3708 5.51504 17.5138C5.79804 17.7598 6.08404 18.0078 6.36804 18.2608L7.39504 19.1788C8.51508 20.2446 9.68931 21.252 10.913 22.1968C11.2368 22.4065 11.6143 22.518 12 22.518C12.3858 22.518 12.7633 22.4065 13.087 22.1968C14.3497 21.2231 15.5601 20.1833 16.713 19.0818L17.635 18.2578C17.928 17.9978 18.225 17.7388 18.52 17.4838C20.854 15.4588 23.5 13.1638 23.5 9.54385C23.563 7.69838 22.8927 5.90305 21.6357 4.55044C20.3787 3.19783 18.6372 2.398 16.792 2.32585Z"
                                        fill="#262626"
                                    />
                                </g>
                                <defs>
                                    <clipPath id="clip0_9_748">
                                        <rect width="24" height="24" fill="white" transform="translate(0 0.421875)" />
                                    </clipPath>
                                </defs>
                            </svg>
                            <span>Notificaciones</span>
                        </Link>
                    </li>
                    <li className={navbarCSS.navItemOnlyDesk}>
                        <Link to="/post" className={navbarCSS.navItem + ' ' + isSelected('/post')}>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <g clipPath="url(#clip0_9_955)">
                                    <path d="M2 12V15.45C2 18.299 2.698 19.455 3.606 20.394C4.546 21.303 5.704 22.002 8.552 22.002H15.448C18.296 22.002 19.454 21.302 20.394 20.394C21.302 19.455 22 18.3 22 15.45V8.552C22 5.703 21.302 4.546 20.394 3.607C19.454 2.7 18.296 2 15.448 2H8.552C5.704 2 4.546 2.699 3.606 3.607C2.698 4.547 2 5.703 2 8.552V12Z" stroke="#262626" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                                    <path d="M6.54504 12.001H17.455" stroke="#262626" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                                    <path d="M12.0031 6.54498V17.455" stroke="#262626" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_9_955">
                                        <rect width="24" height="24" fill="white" />
                                    </clipPath>
                                </defs>
                            </svg>
                            <span>Postear</span>
                        </Link>
                    </li>
                </ul>
            </nav>
            <div className={navbarCSS.extras}>
                <button className={navbarCSS.navItem}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M5.17083 17.3583C6.09167 16.6542 7.12083 16.099 8.25833 15.6927C9.39583 15.2865 10.5875 15.0833 11.8333 15.0833C13.0792 15.0833 14.2708 15.2865 15.4083 15.6927C16.5458 16.099 17.575 16.6542 18.4958 17.3583C19.1278 16.6181 19.6198 15.7785 19.9719 14.8396C20.324 13.9007 20.5 12.8986 20.5 11.8333C20.5 9.43194 19.6559 7.38715 17.9677 5.69896C16.2795 4.01076 14.2347 3.16667 11.8333 3.16667C9.43194 3.16667 7.38715 4.01076 5.69896 5.69896C4.01076 7.38715 3.16667 9.43194 3.16667 11.8333C3.16667 12.8986 3.34271 13.9007 3.69479 14.8396C4.04688 15.7785 4.53889 16.6181 5.17083 17.3583ZM11.8333 12.9167C10.7681 12.9167 9.86979 12.551 9.13854 11.8198C8.40729 11.0885 8.04167 10.1903 8.04167 9.125C8.04167 8.05972 8.40729 7.16146 9.13854 6.43021C9.86979 5.69896 10.7681 5.33333 11.8333 5.33333C12.8986 5.33333 13.7969 5.69896 14.5281 6.43021C15.2594 7.16146 15.625 8.05972 15.625 9.125C15.625 10.1903 15.2594 11.0885 14.5281 11.8198C13.7969 12.551 12.8986 12.9167 11.8333 12.9167ZM11.8333 22.6667C10.3347 22.6667 8.92639 22.3823 7.60833 21.8135C6.29028 21.2448 5.14375 20.4729 4.16875 19.4979C3.19375 18.5229 2.42188 17.3764 1.85313 16.0583C1.28437 14.7403 1 13.3319 1 11.8333C1 10.3347 1.28437 8.92639 1.85313 7.60833C2.42188 6.29028 3.19375 5.14375 4.16875 4.16875C5.14375 3.19375 6.29028 2.42188 7.60833 1.85313C8.92639 1.28437 10.3347 1 11.8333 1C13.3319 1 14.7403 1.28437 16.0583 1.85313C17.3764 2.42188 18.5229 3.19375 19.4979 4.16875C20.4729 5.14375 21.2448 6.29028 21.8135 7.60833C22.3823 8.92639 22.6667 10.3347 22.6667 11.8333C22.6667 13.3319 22.3823 14.7403 21.8135 16.0583C21.2448 17.3764 20.4729 18.5229 19.4979 19.4979C18.5229 20.4729 17.3764 21.2448 16.0583 21.8135C14.7403 22.3823 13.3319 22.6667 11.8333 22.6667ZM11.8333 20.5C12.7903 20.5 13.6931 20.3601 14.5417 20.0802C15.3903 19.8003 16.1667 19.3986 16.8708 18.875C16.1667 18.3514 15.3903 17.9497 14.5417 17.6698C13.6931 17.3899 12.7903 17.25 11.8333 17.25C10.8764 17.25 9.97361 17.3899 9.125 17.6698C8.27639 17.9497 7.5 18.3514 6.79583 18.875C7.5 19.3986 8.27639 19.8003 9.125 20.0802C9.97361 20.3601 10.8764 20.5 11.8333 20.5ZM11.8333 10.75C12.3028 10.75 12.691 10.5965 12.9979 10.2896C13.3049 9.98264 13.4583 9.59444 13.4583 9.125C13.4583 8.65556 13.3049 8.26736 12.9979 7.96042C12.691 7.65347 12.3028 7.5 11.8333 7.5C11.3639 7.5 10.9757 7.65347 10.6688 7.96042C10.3618 8.26736 10.2083 8.65556 10.2083 9.125C10.2083 9.59444 10.3618 9.98264 10.6688 10.2896C10.9757 10.5965 11.3639 10.75 11.8333 10.75Z" fill="#262626" />
                    </svg>
                    <span>Perfil</span>
                </button>
                <button className={navbarCSS.navItem} onClick={_exitButton}>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
<path d="M4.40778 22.67C3.74564 22.67 3.17881 22.4342 2.70728 21.9627C2.23576 21.4912 2 20.9244 2 20.2622V3.40778C2 2.74564 2.23576 2.17881 2.70728 1.70728C3.17881 1.23576 3.74564 1 4.40778 1H12.835V3.40778H4.40778V20.2622H12.835V22.67H4.40778ZM17.6506 17.8544L15.9952 16.1088L19.0651 13.0389H9.22333V10.6311H19.0651L15.9952 7.56119L17.6506 5.81556L23.67 11.835L17.6506 17.8544Z" fill="#262626"/>
</svg>
                    <span>Salir</span>
                </button>
            </div>
        </div>
    );
}

export default NavBar;
